#! /bin/env cmsRun

process analyzer = {

    # input file
    source = PoolSource {
        untracked vstring fileNames = { "file:jettag.root" }
        untracked int32 maxEvents = -1
    }

    # output file
    module out = PoolOutputModule {
        untracked string fileName = "file:softleptonbtag.root"
    }

    # Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"
    
    # Magnetic Field, Geometry, TransientTracks
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"
    include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"

    # Test tracks to jets association
    module softLepton = SoftLepton { 
      string jetTracks          = "jetTracksAssociator"
      string primaryVertex      = "offlinePrimaryVerticesFromCTFTracks"
      string leptons            = "globalMuons"
      string outputInstanceName = "softLepton"

      double deltaRCut          = 0.3
      uint32 refineJetAxis      = 2
    }

    # module execution
    path p = { softLepton }

    endpath outpath = { out }
}
