#! /bin/env cmsRun

process SoftLeptonTag = {

    # input file
    source = PoolSource {
        untracked vstring fileNames = {
          # RelVal b jets
          '/store/RelVal/2007/6/4/RelVal-RelVal150pre5BJets50-120-1180948067/0000/3C93FA72-C812-DC11-9C31-003048767F27.root',
          '/store/RelVal/2007/6/4/RelVal-RelVal150pre5BJets50-120-1180948067/0000/984FF8FD-B812-DC11-A4DE-001731AF698F.root'
          # # RelVal c jets
          # '/store/RelVal/2007/6/4/RelVal-RelVal150pre5CJets50-120-1180948067/0000/0A88B8B1-B812-DC11-AF3E-0030487253A9.root',
          # '/store/RelVal/2007/6/4/RelVal-RelVal150pre5CJets50-120-1180948067/0000/DE47768C-C812-DC11-BB0C-00304876A0FF.root'
          # # RelVal QCD jets (50-80)
          # '/store/RelVal/2007/6/4/RelVal-RelVal150pre5QCD_pt50_80-1180948067/0000/128ED470-E812-DC11-AAB0-00304870D52F.root',
          # '/store/RelVal/2007/6/4/RelVal-RelVal150pre5QCD_pt50_80-1180948067/0000/4A203759-BA12-DC11-924B-00304875AAF5.root',
          # '/store/RelVal/2007/6/4/RelVal-RelVal150pre5QCD_pt50_80-1180948067/0000/C48B2962-3313-DC11-9934-001731AF66AD.root'
          # # RelVal QCD jets (80-120)
          # '/store/RelVal/2007/6/4/RelVal-RelVal150pre5QCD_pt80_120-1180948067/0000/7214955D-FF12-DC11-8BFA-001731A28F19.root',
          # '/store/RelVal/2007/6/4/RelVal-RelVal150pre5QCD_pt80_120-1180948067/0000/A4C81E54-C112-DC11-B2C2-003048754FB7.root'
        }
    }

    # Analysis and validation plots
    module  bTagSoftMuonAnalysis = bTagSoftLeptonAnalysis from "RecoBTag/Analysis/data/bTagSoftLeptonAnalysis.cfi" 
    replace bTagSoftMuonAnalysis.jetTagModuleLabel = "softMuonJetTags"
    replace bTagSoftMuonAnalysis.rootfile  = "softMuon_b.root"

    module  bTagSoftMuonAnalysisNoIP = bTagSoftLeptonAnalysis from "RecoBTag/Analysis/data/bTagSoftLeptonAnalysis.cfi" 
    replace bTagSoftMuonAnalysisNoIP.jetTagModuleLabel = "softMuonNoIPJetTags"
    replace bTagSoftMuonAnalysisNoIP.rootfile  = "softMuonNoIP_b.root"

    module  bTagSoftElectronAnalysis = bTagSoftLeptonAnalysis from "RecoBTag/Analysis/data/bTagSoftLeptonAnalysis.cfi" 
    replace bTagSoftElectronAnalysis.jetTagModuleLabel = "softElectronJetTags"
    replace bTagSoftElectronAnalysis.rootfile  = "softElectron_b.root"

    # events to analyze
    untracked PSet maxEvents = {untracked int32 input = -1}

    # module execution
    path p = { bTagSoftMuonAnalysis & bTagSoftMuonAnalysisNoIP & bTagSoftElectronAnalysis }
}
